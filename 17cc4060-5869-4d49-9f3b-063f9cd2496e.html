<!DOCTYPE html>
<html lang="en">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTrack - Complete Finance Manager</title>
    <meta name="description" content="Manage your expenses, incomes, categories, and accounts with our comprehensive personal finance tool">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#2563eb",
                        secondary: "#7c3aed",
                        success: "#10b981",
                        danger: "#ef4444",
                        warning: "#f59e0b",
                        "dark-bg": "#0f172a",
                        "card-bg": "#1e293b",
                        "sidebar-bg": "#1e293b"
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'slide-down': 'slideDown 0.3s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(-10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .sidebar-link.active {
            background-color: rgba(37, 99, 235, 0.1);
            border-left: 4px solid #2563eb;
        }
        .stat-card {
            transition: transform 0.2s ease;
        }
        .stat-card:hover {
            transform: translateY(-2px);
        }
        .transaction-item {
            transition: background-color 0.2s ease;
        }
        .transaction-item:hover {
            background-color: #f8fafc;
        }
        .category-item, .account-item {
            transition: all 0.2s ease;
        }
        .category-item:hover, .account-item:hover {
            transform: translateX(4px);
        }
        .chart-container {
            height: 300px;
        }
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            .sidebar.active {
                transform: translateX(0);
            }
        }
        .modal-overlay {
            animation: fadeIn 0.3s ease-out;
        }
        .modal-content {
            animation: slideDown 0.3s ease-out;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 text-gray-800">
    <!-- Mobile Menu Button -->
    <button id="mobileMenuBtn" class="lg:hidden fixed top-4 left-4 z-50 p-2 bg-primary text-white rounded-lg shadow-lg">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <aside class="sidebar fixed lg:static inset-y-0 left-0 z-40 w-64 bg-sidebar-bg text-white transform lg:transform-none transition-transform duration-300">
        <div class="p-6">
            <div class="flex items-center space-x-3 mb-8">
                <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                    <i class="fas fa-chart-line text-xl"></i>
                </div>
                <h1 class="text-xl font-bold">FinTrack</h1>
            </div>
            
            <nav class="space-y-2">
                <a href="#" class="sidebar-link active flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="dashboard">
                    <i class="fas fa-tachometer-alt w-5"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="transactions">
                    <i class="fas fa-exchange-alt w-5"></i>
                    <span>Transactions</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="analytics">
                    <i class="fas fa-chart-pie w-5"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="accounts">
                    <i class="fas fa-wallet w-5"></i>
                    <span>Accounts</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="categories">
                    <i class="fas fa-tags w-5"></i>
                    <span>Categories</span>
                </a>
                <a href="#" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-colors" data-page="settings">
                    <i class="fas fa-cog w-5"></i>
                    <span>Settings</span>
                </a>
            </nav>
            
            <div class="mt-8 pt-8 border-t border-gray-700">
                <div class="flex items-center space-x-3">
                    <img src="https://picsum.photos/40?random=100" alt="User profile" class="w-10 h-10 rounded-full">
                    <div>
                        <p class="font-medium">John Doe</p>
                        <p class="text-sm text-gray-400">Premium User</p>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="lg:ml-64 min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow-sm">
            <div class="px-6 py-4">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 id="pageTitle" class="text-2xl font-bold text-gray-800">Dashboard</h2>
                        <p id="pageSubtitle" class="text-gray-600">Track your expenses and incomes</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <button id="notificationsBtn" class="p-2 text-gray-600 hover:text-primary transition-colors relative">
                                <i class="fas fa-bell"></i>
                                <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                            </button>
                        </div>
                        <button id="addTransactionBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2">
                            <i class="fas fa-plus"></i>
                            <span>Add Transaction</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Content (Default View) -->
        <main id="dashboardContent" class="p-6">
            <!-- Stats Overview -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="stat-card bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">Total Balance</p>
                            <h3 class="text-2xl font-bold text-gray-800 mt-1">$12,450.75</h3>
                        </div>
                        <div class="p-3 bg-green-100 rounded-lg">
                            <i class="fas fa-wallet text-green-600 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-green-600 text-sm mt-2">
                        <i class="fas fa-arrow-up"></i> 12.5% from last month
                    </p>
                </div>

                <div class="stat-card bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">Total Income</p>
                            <h3 class="text-2xl font-bold text-gray-800 mt-1">$8,200.00</h3>
                        </div>
                        <div class="p-3 bg-blue-100 rounded-lg">
                            <i class="fas fa-money-bill-wave text-blue-600 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-blue-600 text-sm mt-2">This month</p>
                </div>

                <div class="stat-card bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">Total Expenses</p>
                            <h3 class="text-2xl font-bold text-gray-800 mt-1">$3,750.25</h3>
                        </div>
                        <div class="p-3 bg-red-100 rounded-lg">
                            <i class="fas fa-shopping-cart text-red-600 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-red-600 text-sm mt-2">This month</p>
                </div>

                <div class="stat-card bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">Savings Rate</p>
                            <h3 class="text-2xl font-bold text-gray-800 mt-1">54.2%</h3>
                        </div>
                        <div class="p-3 bg-purple-100 rounded-lg">
                            <i class="fas fa-chart-line text-purple-600 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-purple-600 text-sm mt-2">Good progress</p>
                </div>
            </div>

            <!-- Charts and Transactions -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Expense Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-semibold text-gray-800">Expense Breakdown</h3>
                        <select class="border border-gray-300 rounded-lg px-3 py-1 text-sm">
                            <option>This Month</option>
                            <option>Last Month</option>
                            <option>This Year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Food & Dining</span>
                                    <span class="font-medium">$850.00</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-red-500 h-2 rounded-full" style="width: 35%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Transportation</span>
                                    <span class="font-medium">$420.50</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 25%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Shopping</span>
                                    <span class="font-medium">$680.75</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-500 h-2 rounded-full" style="width: 30%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Entertainment</span>
                                    <span class="font-medium">$320.00</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-yellow-500 h-2 rounded-full" style="width: 15%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-semibold text-gray-800">Recent Transactions</h3>
                        <a href="#" class="text-primary text-sm hover:underline">View All</a>
                    </div>
                    <div class="space-y-4">
                        <div class="transaction-item p-3 rounded-lg border border-gray-200">
                            <div class="flex justify-between items-center">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-utensils text-red-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800">Restaurant Dinner</p>
                                        <p class="text-sm text-gray-600">Food & Dining • Today</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-medium text-red-600">-$85.50</p>
                                    <p class="text-sm text-gray-600">Credit Card</p>
                                </div>
                            </div>
                        </div>

                        <div class="transaction-item p-3 rounded-lg border border-gray-200">
                            <div class="flex justify-between items-center">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-money-bill-wave text-green-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800">Salary Deposit</p>
                                        <p class="text-sm text-gray-600">Income • Yesterday</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-medium text-green-600">+$3,200.00</p>
                                    <p class="text-sm text-gray-600">Bank Account</p>
                                </div>
                            </div>
                        </div>

                        <div class="transaction-item p-3 rounded-lg border border-gray-200">
                            <div class="flex justify-between items-center">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-gas-pump text-blue-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-800">Gas Station</p>
                                        <p class="text-sm text-gray-600">Transportation • 2 days ago</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-medium text-red-600">-$45.75</p>
                                    <p class="text-sm text-gray-600">Debit Card</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                <h3 class="text-lg font-semibold text-gray-800 mb-6">Quick Actions</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button class="quick-action-btn p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-blue-50 transition-all flex flex-col items-center justify-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-plus text-blue-600 text-xl"></i>
                        </div>
                        <span class="font-medium text-gray-800">Add Expense</span>
                        <span class="text-sm text-gray-600 mt-1">Record new expense</span>
                    </button>

                    <button class="quick-action-btn p-4 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all flex flex-col items-center justify-center">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-money-bill-wave text-green-600 text-xl"></i>
                        </div>
                        <span class="font-medium text-gray-800">Add Income</span>
                        <span class="text-sm text-gray-600 mt-1">Record new income</span>
                    </button>

                    <button class="quick-action-btn p-4 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all flex flex-col items-center justify-center">
                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-chart-pie text-purple-600 text-xl"></i>
                        </div>
                        <span class="font-medium text-gray-800">View Reports</span>
                        <span class="text-sm text-gray-600 mt-1">Detailed analytics</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Accounts Content (Hidden by default) -->
        <main id="accountsContent" class="p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">Accounts Management</h2>
                    <p class="text-gray-600">Manage your bank accounts, credit cards, and wallets</p>
                </div>
                <button id="addAccountBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2">
                    <i class="fas fa-plus"></i>
                    <span>Add Account</span>
                </button>
            </div>

            <!-- Accounts Summary -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-university text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Checking Account</h3>
                            <p class="text-sm text-gray-600">Bank of America • ****4582</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <p class="text-2xl font-bold text-gray-800">$8,245.50</p>
                        <p class="text-sm text-gray-600 mt-1">Current Balance</p>
                    </div>
                    <div class="mt-4 flex space-x-2">
                        <button class="edit-account-btn flex-1 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors" data-id="1">
                            Edit
                        </button>
                        <button class="delete-account-btn py-2 px-4 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors" data-id="1">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-credit-card text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Credit Card</h3>
                            <p class="text-sm text-gray-600">Chase Sapphire • ****1234</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <p class="text-2xl font-bold text-red-600">-$1,245.75</p>
                        <p class="text-sm text-gray-600 mt-1">Current Balance</p>
                    </div>
                    <div class="mt-4 flex space-x-2">
                        <button class="edit-account-btn flex-1 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors" data-id="2">
                            Edit
                        </button>
                        <button class="delete-account-btn py-2 px-4 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors" data-id="2">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-wallet text-purple-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Cash Wallet</h3>
                            <p class="text-sm text-gray-600">Physical cash</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <p class="text-2xl font-bold text-gray-800">$450.00</p>
                        <p class="text-sm text-gray-600 mt-1">Current Balance</p>
                    </div>
                    <div class="mt-4 flex space-x-2">
                        <button class="edit-account-btn flex-1 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors" data-id="3">
                            Edit
                        </button>
                        <button class="delete-account-btn py-2 px-4 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors" data-id="3">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Accounts Table -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800">All Accounts</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Account</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Balance</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Currency</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="accountsTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Accounts will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Categories Content (Hidden by default) -->
        <main id="categoriesContent" class="p-6 hidden">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">Categories Management</h2>
                    <p class="text-gray-600">Organize your expenses and incomes with categories</p>
                </div>
                <button id="addCategoryBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2">
                    <i class="fas fa-plus"></i>
                    <span>Add Category</span>
                </button>
            </div>

            <!-- Categories Summary -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-utensils text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Food & Dining</h3>
                                    <p class="text-sm text-gray-600">12 transactions</p>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-red-600">$850.00</p>
                            <p class="text-sm text-gray-600 mt-1">This month</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="edit-category-btn p-2 border border-gray-300 rounded-lg hover:bg-gray-50" data-id="1">
                                <i class="fas fa-edit text-gray-600"></i>
                            </button>
                            <button class="delete-category-btn p-2 border border-red-300 rounded-lg hover:bg-red-50" data-id="1">
                                <i class="fas fa-trash text-red-600"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-gas-pump text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Transportation</h3>
                                    <p class="text-sm text-gray-600">8 transactions</p>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-blue-600">$420.50</p>
                            <p class="text-sm text-gray-600 mt-1">This month</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="edit-category-btn p-2 border border-gray-300 rounded-lg hover:bg-gray-50" data-id="2">
                                <i class="fas fa-edit text-gray-600"></i>
                            </button>
                            <button class="delete-category-btn p-2 border border-red-300 rounded-lg hover:bg-red-50" data-id="2">
                                <i class="fas fa-trash text-red-600"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-money-bill-wave text-green-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Salary</h3>
                                    <p class="text-sm text-gray-600">2 transactions</p>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-green-600">$6,400.00</p>
                            <p class="text-sm text-gray-600 mt-1">This month</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="edit-category-btn p-2 border border-gray-300 rounded-lg hover:bg-gray-50" data-id="3">
                                <i class="fas fa-edit text-gray-600"></i>
                            </button>
                            <button class="delete-category-btn p-2 border border-red-300 rounded-lg hover:bg-red-50" data-id="3">
                                <i class="fas fa-trash text-red-600"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories Table -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800">All Categories</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Transactions</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">This Month</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Budget</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="categoriesTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Categories will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Budget Management -->
            <div class="mt-8 bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                <h3 class="text-lg font-semibold text-gray-800 mb-6">Budget Overview</h3>
                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium text-gray-700">Food & Dining</span>
                            <span class="text-sm text-gray-600">$850 / $1,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-red-500 h-2 rounded-full" style="width: 85%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium text-gray-700">Transportation</span>
                            <span class="text-sm text-gray-600">$420 / $600</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-500 h-2 rounded-full" style="width: 70%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium text-gray-700">Entertainment</span>
                            <span class="text-sm text-gray-600">$320 / $500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-yellow-500 h-2 rounded-full" style="width: 64%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Other Pages Content (Placeholders) -->
        <main id="transactionsContent" class="p-6 hidden">
            <div class="text-center py-12">
                <i class="fas fa-exchange-alt text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-700 mb-2">Transactions Page</h3>
                <p class="text-gray-600">View and manage all your transactions here.</p>
            </div>
        </main>

        <main id="analyticsContent" class="p-6 hidden">
            <div class="text-center py-12">
                <i class="fas fa-chart-pie text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-700 mb-2">Analytics Page</h3>
                <p class="text-gray-600">Detailed analytics and reports coming soon.</p>
            </div>
        </main>

        <main id="settingsContent" class="p-6 hidden">
            <div class="text-center py-12">
                <i class="fas fa-cog text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-700 mb-2">Settings Page</h3>
                <p class="text-gray-600">Configure your preferences and account settings.</p>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white border-t border-gray-200 mt-8">
            <div class="px-6 py-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0">
                        <p class="text-gray-600">© 2024 FinTrack. All rights reserved.</p>
                    </div>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-600 hover:text-primary transition-colors">Privacy Policy</a>
                        <a href="#" class="text-gray-600 hover:text-primary transition-colors">Terms of Service</a>
                        <a href="#" class="text-gray-600 hover:text-primary transition-colors">Help Center</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Add Transaction Modal -->
    <div id="transactionModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold text-gray-800">Add Transaction</h3>
                    <button id="closeTransactionModalBtn" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form id="transactionForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Transaction Type</label>
                        <div class="flex space-x-2">
                            <button type="button" class="transaction-type-btn flex-1 py-2 border rounded-lg" data-type="expense">
                                <i class="fas fa-arrow-up text-red-500 mr-2"></i>
                                Expense
                            </button>
                            <button type="button" class="transaction-type-btn flex-1 py-2 border rounded-lg" data-type="income">
                                <i class="fas fa-arrow-down text-green-500 mr-2"></i>
                                Income
                            </button>
                        </div>
                    </div>

                    <div>
                        <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">$</span>
                            <input type="number" id="amount" step="0.01" min="0" class="w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="0.00" required>
                        </div>
                    </div>

                    <div>
                        <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                        <input type="text" id="description" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Enter description" required>
                    </div>

                    <div>
                        <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select id="category" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="">Select Category</option>
                            <option value="food">Food & Dining</option>
                            <option value="transport">Transportation</option>
                            <option value="shopping">Shopping</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="salary">Salary</option>
                            <option value="freelance">Freelance</option>
                            <option value="investment">Investment</option>
                        </select>
                    </div>

                    <div>
                        <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                        <input type="date" id="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required>
                    </div>

                    <div>
                        <label for="account" class="block text-sm font-medium text-gray-700 mb-1">Account</label>
                        <select id="account" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="checking">Checking Account</option>
                            <option value="credit">Credit Card</option>
                            <option value="cash">Cash Wallet</option>
                            <option value="savings">Savings Account</option>
                        </select>
                    </div>

                    <div class="pt-4">
                        <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Add Transaction
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add/Edit Account Modal -->
    <div id="accountModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 id="accountModalTitle" class="text-xl font-bold text-gray-800">Add Account</h3>
                    <button id="closeAccountModalBtn" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form id="accountForm" class="space-y-4">
                    <input type="hidden" id="accountId">

                    <div>
                        <label for="accountName" class="block text-sm font-medium text-gray-700 mb-1">Account Name</label>
                        <input type="text" id="accountName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="e.g., Chase Checking" required>
                    </div>

                    <div>
                        <label for="accountType" class="block text-sm font-medium text-gray-700 mb-1">Account Type</label>
                        <select id="accountType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required>
                            <option value="">Select Type</option>
                            <option value="checking">Checking Account</option>
                            <option value="savings">Savings Account</option>
                            <option value="credit">Credit Card</option>
                            <option value="cash">Cash Wallet</option>
                            <option value="investment">Investment Account</option>
                            <option value="loan">Loan</option>
                        </select>
                    </div>

                    <div>
                        <label for="accountBalance" class="block text-sm font-medium text-gray-700 mb-1">Initial Balance</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">$</span>
                            <input type="number" id="accountBalance" step="0.01" class="w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="0.00" required>
                        </div>
                    </div>

                    <div>
                        <label for="accountCurrency" class="block text-sm font-medium text-gray-700 mb-1">Currency</label>
                        <select id="accountCurrency" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required>
                            <option value="USD">USD ($)</option>
                            <option value="EUR">EUR (€)</option>
                            <option value="GBP">GBP (£)</option>
                            <option value="JPY">JPY (¥)</option>
                            <option value="CAD">CAD ($)</option>
                        </select>
                    </div>

                    <div>
                        <label for="accountNumber" class="block text-sm font-medium text-gray-700 mb-1">Account Number (Last 4 digits)</label>
                        <input type="text" id="accountNumber" maxlength="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="1234">
                    </div>

                    <div>
                        <label class="flex items-center">
                            <input type="checkbox" id="accountActive" class="rounded border-gray-300 text-primary focus:ring-primary">
                            <span class="ml-2 text-sm text-gray-700">Active Account</span>
                        </label>
                    </div>

                    <div class="pt-4 flex space-x-3">
                        <button type="submit" id="saveAccountBtn" class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Save Account
                        </button>
                        <button type="button" id="cancelAccountBtn" class="flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add/Edit Category Modal -->
    <div id="categoryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 id="categoryModalTitle" class="text-xl font-bold text-gray-800">Add Category</h3>
                    <button id="closeCategoryModalBtn" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form id="categoryForm" class="space-y-4">
                    <input type="hidden" id="categoryId">

                    <div>
                        <label for="categoryName" class="block text-sm font-medium text-gray-700 mb-1">Category Name</label>
                        <input type="text" id="categoryName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="e.g., Groceries" required>
                    </div>

                    <div>
                        <label for="categoryType" class="block text-sm font-medium text-gray-700 mb-1">Category Type</label>
                        <select id="categoryType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required>
                            <option value="">Select Type</option>
                            <option value="expense">Expense</option>
                            <option value="income">Income</option>
                            <option value="transfer">Transfer</option>
                        </select>
                    </div>

                    <div>
                        <label for="categoryColor" class="block text-sm font-medium text-gray-700 mb-1">Color</label>
                        <div class="flex space-x-2">
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="red" style="background-color: #ef4444;"></button>
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="blue" style="background-color: #3b82f6;"></button>
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="green" style="background-color: #10b981;"></button>
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="yellow" style="background-color: #f59e0b;"></button>
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="purple" style="background-color: #8b5cf6;"></button>
                            <button type="button" class="color-option w-8 h-8 rounded-full border-2 border-gray-300" data-color="pink" style="background-color: #ec4899;"></button>
                        </div>
                        <input type="hidden" id="selectedColor" value="red">
                    </div>

                    <div>
                        <label for="categoryIcon" class="block text-sm font-medium text-gray-700 mb-1">Icon</label>
                        <select id="categoryIcon" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="fa-utensils">Utensils (Food)</option>
                            <option value="fa-gas-pump">Gas Pump (Transport)</option>
                            <option value="fa-shopping-cart">Shopping Cart</option>
                            <option value="fa-film">Film (Entertainment)</option>
                            <option value="fa-home">Home</option>
                            <option value="fa-heart">Health</option>
                            <option value="fa-graduation-cap">Education</option>
                            <option value="fa-money-bill-wave">Money (Income)</option>
                        </select>
                    </div>

                    <div>
                        <label for="categoryBudget" class="block text-sm font-medium text-gray-700 mb-1">Monthly Budget (Optional)</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">$</span>
                            <input type="number" id="categoryBudget" step="0.01" min="0" class="w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="0.00">
                        </div>
                    </div>

                    <div class="pt-4 flex space-x-3">
                        <button type="submit" id="saveCategoryBtn" class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Save Category
                        </button>
                        <button type="button" id="cancelCategoryBtn" class="flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Define data at the beginning
        const accounts = [
            {
                "id": 1,
                "name": "Checking Account",
                "type": "checking",
                "balance": 8245.50,
                "currency": "USD",
                "accountNumber": "4582",
                "active": true,
                "icon": "fa-university",
                "color": "blue"
            },
            {
                "id": 2,
                "name": "Credit Card",
                "type": "credit",
                "balance": -1245.75,
                "currency": "USD",
                "accountNumber": "1234",
                "active": true,
                "icon": "fa-credit-card",
                "color": "green"
            },
            {
                "id": 3,
                "name": "Cash Wallet",
                "type": "cash",
                "balance": 450.00,
                "currency": "USD",
                "accountNumber": "",
                "active": true,
                "icon": "fa-wallet",
                "color": "purple"
            },
            {
                "id": 4,
                "name": "Savings Account",
                "type": "savings",
                "balance": 15200.00,
                "currency": "USD",
                "accountNumber": "7890",
                "active": true,
                "icon": "fa-piggy-bank",
                "color": "green"
            }
        ];

        const categories = [
            {
                "id": 1,
                "name": "Food & Dining",
                "type": "expense",
                "color": "red",
                "icon": "fa-utensils",
                "budget": 1000,
                "currentSpent": 850,
                "transactionCount": 12
            },
            {
                "id": 2,
                "name": "Transportation",
                "type": "expense",
                "color": "blue",
                "icon": "fa-gas-pump",
                "budget": 600,
                "currentSpent": 420.50,
                "transactionCount": 8
            },
            {
                "id": 3,
                "name": "Salary",
                "type": "income",
                "color": "green",
                "icon": "fa-money-bill-wave",
                "budget": null,
                "currentSpent": 6400,
                "transactionCount": 2
            },
            {
                "id": 4,
                "name": "Shopping",
                "type": "expense",
                "color": "purple",
                "icon": "fa-shopping-bag",
                "budget": 800,
                "currentSpent": 680.75,
                "transactionCount": 15
            },
            {
                "id": 5,
                "name": "Entertainment",
                "type": "expense",
                "color": "yellow",
                "icon": "fa-film",
                "budget": 500,
                "currentSpent": 320,
                "transactionCount": 6
            },
            {
                "id": 6,
                "name": "Freelance",
                "type": "income",
                "color": "green",
                "icon": "fa-laptop-code",
                "budget": null,
                "currentSpent": 1800,
                "transactionCount": 4
            }
        ];

        // DOM Elements
        const mobileMenuBtn = document.getElementById("mobileMenuBtn");
        const sidebar = document.querySelector(".sidebar");
        const addTransactionBtn = document.getElementById("addTransactionBtn");
        const addAccountBtn = document.getElementById("addAccountBtn");
        const addCategoryBtn = document.getElementById("addCategoryBtn");
        
        const transactionModal = document.getElementById("transactionModal");
        const accountModal = document.getElementById("accountModal");
        const categoryModal = document.getElementById("categoryModal");
        
        const closeTransactionModalBtn = document.getElementById("closeTransactionModalBtn");
        const closeAccountModalBtn = document.getElementById("closeAccountModalBtn");
        const closeCategoryModalBtn = document.getElementById("closeCategoryModalBtn");
        
        const transactionForm = document.getElementById("transactionForm");
        const accountForm = document.getElementById("accountForm");
        const categoryForm = document.getElementById("categoryForm");
        
        const sidebarLinks = document.querySelectorAll(".sidebar-link");
        const quickActionBtns = document.querySelectorAll(".quick-action-btn");
        const transactionTypeBtns = document.querySelectorAll(".transaction-type-btn");
        const colorOptions = document.querySelectorAll(".color-option");
        
        const accountsTableBody = document.getElementById("accountsTableBody");
        const categoriesTableBody = document.getElementById("categoriesTableBody");
        
        const pageTitle = document.getElementById("pageTitle");
        const pageSubtitle = document.getElementById("pageSubtitle");

        // Current page state
        let currentPage = "dashboard";
        let editingAccountId = null;
        let editingCategoryId = null;

        // Initialize the application
        function init() {
            setupEventListeners();
            renderAccountsTable();
            renderCategoriesTable();
            setTodayDate();
            selectDefaultTransactionType();
        }

        // Setup all event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            mobileMenuBtn.addEventListener("click", () => {
                sidebar.classList.toggle("active");
            });

            // Close sidebar when clicking outside on mobile
            document.addEventListener("click", (e) => {
                if (window.innerWidth < 1024) {
                    if (!sidebar.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                        sidebar.classList.remove("active");
                    }
                }
            });

            // Navigation
            sidebarLinks.forEach(link => {
                link.addEventListener("click", (e) => {
                    e.preventDefault();
                    const page = link.dataset.page;
                    navigateToPage(page);
                });
            });

            // Modal controls
            addTransactionBtn.addEventListener("click", () => {
                showModal(transactionModal);
            });

            addAccountBtn.addEventListener("click", () => {
                editingAccountId = null;
                document.getElementById("accountModalTitle").textContent = "Add Account";
                document.getElementById("saveAccountBtn").textContent = "Save Account";
                resetAccountForm();
                showModal(accountModal);
            });

            addCategoryBtn.addEventListener("click", () => {
                editingCategoryId = null;
                document.getElementById("categoryModalTitle").textContent = "Add Category";
                document.getElementById("saveCategoryBtn").textContent = "Save Category";
                resetCategoryForm();
                showModal(categoryModal);
            });

            closeTransactionModalBtn.addEventListener("click", () => hideModal(transactionModal));
            closeAccountModalBtn.addEventListener("click", () => hideModal(accountModal));
            closeCategoryModalBtn.addEventListener("click", () => hideModal(categoryModal));

            // Close modals when clicking outside
            [transactionModal, accountModal, categoryModal].forEach(modal => {
                modal.addEventListener("click", (e) => {
                    if (e.target === modal) hideModal(modal);
                });
            });

            // Transaction type selection
            transactionTypeBtns.forEach(btn => {
                btn.addEventListener("click", () => {
                    transactionTypeBtns.forEach(b => {
                        b.classList.remove("border-primary", "bg-blue-50");
                        b.classList.add("border-gray-300");
                    });
                    btn.classList.remove("border-gray-300");
                    btn.classList.add("border-primary", "bg-blue-50");
                });
            });

            // Color selection for categories
            colorOptions.forEach(option => {
                option.addEventListener("click", () => {
                    colorOptions.forEach(opt => opt.classList.remove("border-primary", "border-2"));
                    option.classList.add("border-primary", "border-2");
                    document.getElementById("selectedColor").value = option.dataset.color;
                });
            });

            // Form submissions
            transactionForm.addEventListener("submit", handleTransactionSubmit);
            accountForm.addEventListener("submit", handleAccountSubmit);
            categoryForm.addEventListener("submit", handleCategorySubmit);

            // Cancel buttons
            document.getElementById("cancelAccountBtn").addEventListener("click", () => hideModal(accountModal));
            document.getElementById("cancelCategoryBtn").addEventListener("click", () => hideModal(categoryModal));

            // Quick actions
            quickActionBtns.forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    if (index === 0) {
                        transactionTypeBtns[0].click();
                        addTransactionBtn.click();
                    } else if (index === 1) {
                        transactionTypeBtns[1].click();
                        addTransactionBtn.click();
                    } else if (index === 2) {
                        alert("Redirecting to detailed analytics reports...");
                    }
                });
            });

            // Prevent default anchor behavior
            document.querySelectorAll("a").forEach(anchor => {
                anchor.addEventListener("click", (e) => {
                    if (anchor.getAttribute("href") === "#") {
                        e.preventDefault();
                    }
                });
            });

            // Responsive adjustments
            window.addEventListener("resize", () => {
                if (window.innerWidth >= 1024) {
                    sidebar.classList.remove("active");
                }
            });
        }

        // Navigation function
        function navigateToPage(page) {
            // Hide all content sections
            document.querySelectorAll("main[id$='Content']").forEach(section => {
                section.classList.add("hidden");
            });

            // Show selected content section
            document.getElementById(`${page}Content`).classList.remove("hidden");

            // Update active link in sidebar
            sidebarLinks.forEach(link => {
                link.classList.remove("active");
                if (link.dataset.page === page) {
                    link.classList.add("active");
                }
            });

            // Update page title
            const pageTitles = {
                "dashboard": "Dashboard",
                "transactions": "Transactions",
                "analytics": "Analytics",
                "accounts": "Accounts Management",
                "categories": "Categories Management",
                "settings": "Settings"
            };

            const pageSubtitles = {
                "dashboard": "Track your expenses and incomes",
                "transactions": "View and manage all transactions",
                "analytics": "Detailed insights and reports",
                "accounts": "Manage your bank accounts, credit cards, and wallets",
                "categories": "Organize your expenses and incomes with categories",
                "settings": "Configure your preferences and account settings"
            };

            pageTitle.textContent = pageTitles[page];
            pageSubtitle.textContent = pageSubtitles[page];
            currentPage = page;

            // Close mobile menu if open
            if (window.innerWidth < 1024) {
                sidebar.classList.remove("active");
            }
        }

        // Modal functions
        function showModal(modal) {
            modal.classList.remove("hidden");
            modal.classList.add("flex");
            document.body.style.overflow = "hidden";
        }

        function hideModal(modal) {
            modal.classList.remove("flex");
            modal.classList.add("hidden");
            document.body.style.overflow = "auto";
        }

        // Form handlers
        function handleTransactionSubmit(e) {
            e.preventDefault();
            
            const formData = {
                type: document.querySelector(".transaction-type-btn.border-primary").dataset.type,
                amount: parseFloat(document.getElementById("amount").value),
                description: document.getElementById("description").value,
                category: document.getElementById("category").value,
                date: document.getElementById("date").value,
                account: document.getElementById("account").value
            };

            // Here you would typically send this to a backend
            console.log("New transaction:", formData);
            
            alert("Transaction added successfully!");
            hideModal(transactionModal);
            transactionForm.reset();
            setTodayDate();
            selectDefaultTransactionType();
        }

        function handleAccountSubmit(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById("accountName").value,
                type: document.getElementById("accountType").value,
                balance: parseFloat(document.getElementById("accountBalance").value),
                currency: document.getElementById("accountCurrency").value,
                accountNumber: document.getElementById("accountNumber").value,
                active: document.getElementById("accountActive").checked
            };

            if (editingAccountId) {
                // Update existing account
                const index = accounts.findIndex(acc => acc.id === editingAccountId);
                if (index !== -1) {
                    accounts[index] = { ...accounts[index], ...formData };
                    alert("Account updated successfully!");
                }
            } else {
                // Add new account
                const newAccount = {
                    id: accounts.length + 1,
                    ...formData,
                    icon: getIconForAccountType(formData.type),
                    color: getColorForAccountType(formData.type)
                };
                accounts.push(newAccount);
                alert("Account added successfully!");
            }

            renderAccountsTable();
            hideModal(accountModal);
        }

        function handleCategorySubmit(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById("categoryName").value,
                type: document.getElementById("categoryType").value,
                color: document.getElementById("selectedColor").value,
                icon: document.getElementById("categoryIcon").value,
                budget: document.getElementById("categoryBudget").value ? parseFloat(document.getElementById("categoryBudget").value) : null,
                currentSpent: 0,
                transactionCount: 0
            };

            if (editingCategoryId) {
                // Update existing category
                const index = categories.findIndex(cat => cat.id === editingCategoryId);
                if (index !== -1) {
                    categories[index] = { ...categories[index], ...formData };
                    alert("Category updated successfully!");
                }
            } else {
                // Add new category
                const newCategory = {
                    id: categories.length + 1,
                    ...formData
                };
                categories.push(newCategory);
                alert("Category added successfully!");
            }

            renderCategoriesTable();
            hideModal(categoryModal);
        }

        // Render functions
        function renderAccountsTable() {
            accountsTableBody.innerHTML = "";
            
            accounts.forEach(account => {
                const row = document.createElement("tr");
                row.className = "account-item";
                
                const statusColor = account.active ? "bg-green-100 text-green-800" : "bg-gray-100 text-gray-800";
                const statusText = account.active ? "Active" : "Inactive";
                const balanceColor = account.balance >= 0 ? "text-green-600" : "text-red-600";
                const balancePrefix = account.balance >= 0 ? "+$" : "-$";
                const balanceDisplay = Math.abs(account.balance).toFixed(2);
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="w-10 h-10 ${getColorClass(account.color, "bg")} rounded-lg flex items-center justify-center mr-3">
                                <i class="fas ${account.icon} ${getColorClass(account.color, "text")}"></i>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">${account.name}</div>
                                <div class="text-sm text-gray-500">${account.accountNumber ? `****${account.accountNumber}` : "N/A"}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${getTypeColorClass(account.type)}">
                            ${formatAccountType(account.type)}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="${balanceColor} font-medium">${balancePrefix}${balanceDisplay}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        ${account.currency}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${statusColor}">
                            ${statusText}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button class="edit-account-btn text-primary hover:text-blue-700 mr-3" data-id="${account.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-account-btn text-red-600 hover:text-red-800" data-id="${account.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                accountsTableBody.appendChild(row);
            });

            // Add event listeners to edit/delete buttons
            document.querySelectorAll(".edit-account-btn").forEach(btn => {
                btn.addEventListener("click", () => editAccount(parseInt(btn.dataset.id)));
            });

            document.querySelectorAll(".delete-account-btn").forEach(btn => {
                btn.addEventListener("click", () => deleteAccount(parseInt(btn.dataset.id)));
            });
        }

        function renderCategoriesTable() {
            categoriesTableBody.innerHTML = "";
            
            categories.forEach(category => {
                const row = document.createElement("tr");
                row.className = "category-item";
                
                const typeColor = category.type === "expense" ? "bg-red-100 text-red-800" : "bg-green-100 text-green-800";
                const typeText = category.type === "expense" ? "Expense" : "Income";
                const budgetDisplay = category.budget ? `$${category.budget.toFixed(2)}` : "No limit";
                const spentPercent = category.budget ? Math.min(Math.round((category.currentSpent / category.budget) * 100), 100) : 0;
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="w-10 h-10 ${getColorClass(category.color, "bg")} rounded-lg flex items-center justify-center mr-3">
                                <i class="fas ${category.icon} ${getColorClass(category.color, "text")}"></i>
                            </div>
                            <div class="font-medium text-gray-900">${category.name}</div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${typeColor}">
                            ${typeText}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        ${category.transactionCount} transactions
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="font-medium">$${category.currentSpent.toFixed(2)}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        ${budgetDisplay}
                        ${category.budget ? `
                            <div class="w-full bg-gray-200 rounded-full h-1 mt-1">
                                <div class="${getColorClass(category.color, "bg")} h-1 rounded-full" style="width: ${spentPercent}%"></div>
                            </div>
                        ` : ""}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button class="edit-category-btn text-primary hover:text-blue-700 mr-3" data-id="${category.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-category-btn text-red-600 hover:text-red-800" data-id="${category.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                categoriesTableBody.appendChild(row);
            });

            // Add event listeners to edit/delete buttons
            document.querySelectorAll(".edit-category-btn").forEach(btn => {
                btn.addEventListener("click", () => editCategory(parseInt(btn.dataset.id)));
            });

            document.querySelectorAll(".delete-category-btn").forEach(btn => {
                btn.addEventListener("click", () => deleteCategory(parseInt(btn.dataset.id)));
            });
        }

        // Edit/Delete functions
        function editAccount(id) {
            const account = accounts.find(acc => acc.id === id);
            if (!account) return;

            editingAccountId = id;
            document.getElementById("accountModalTitle").textContent = "Edit Account";
            document.getElementById("saveAccountBtn").textContent = "Update Account";

            document.getElementById("accountId").value = account.id;
            document.getElementById("accountName").value = account.name;
            document.getElementById("accountType").value = account.type;
            document.getElementById("accountBalance").value = Math.abs(account.balance);
            document.getElementById("accountCurrency").value = account.currency;
            document.getElementById("accountNumber").value = account.accountNumber || "";
            document.getElementById("accountActive").checked = account.active;

            showModal(accountModal);
        }

        function deleteAccount(id) {
            if (confirm("Are you sure you want to delete this account? This action cannot be undone.")) {
                const index = accounts.findIndex(acc => acc.id === id);
                if (index !== -1) {
                    accounts.splice(index, 1);
                    renderAccountsTable();
                    alert("Account deleted successfully!");
                }
            }
        }

        function editCategory(id) {
            const category = categories.find(cat => cat.id === id);
            if (!category) return;

            editingCategoryId = id;
            document.getElementById("categoryModalTitle").textContent = "Edit Category";
            document.getElementById("saveCategoryBtn").textContent = "Update Category";

            document.getElementById("categoryId").value = category.id;
            document.getElementById("categoryName").value = category.name;
            document.getElementById("categoryType").value = category.type;
            document.getElementById("categoryIcon").value = category.icon;
            document.getElementById("categoryBudget").value = category.budget || "";

            // Set color selection
            colorOptions.forEach(opt => {
                opt.classList.remove("border-primary", "border-2");
                if (opt.dataset.color === category.color) {
                    opt.classList.add("border-primary", "border-2");
                }
            });
            document.getElementById("selectedColor").value = category.color;

            showModal(categoryModal);
        }

        function deleteCategory(id) {
            if (confirm("Are you sure you want to delete this category? This action cannot be undone.")) {
                const index = categories.findIndex(cat => cat.id === id);
                if (index !== -1) {
                    categories.splice(index, 1);
                    renderCategoriesTable();
                    alert("Category deleted successfully!");
                }
            }
        }

        // Helper functions
        function getIconForAccountType(type) {
            const icons = {
                "checking": "fa-university",
                "savings": "fa-piggy-bank",
                "credit": "fa-credit-card",
                "cash": "fa-wallet",
                "investment": "fa-chart-line",
                "loan": "fa-hand-holding-usd"
            };
            return icons[type] || "fa-wallet";
        }

        function getColorForAccountType(type) {
            const colors = {
                "checking": "blue",
                "savings": "green",
                "credit": "purple",
                "cash": "yellow",
                "investment": "blue",
                "loan": "red"
            };
            return colors[type] || "gray";
        }

        function getColorClass(color, type) {
            const colorMap = {
                "red": type === "bg" ? "bg-red-100" : "text-red-600",
                "blue": type === "bg" ? "bg-blue-100" : "text-blue-600",
                "green": type === "bg" ? "bg-green-100" : "text-green-600",
                "yellow": type === "bg" ? "bg-yellow-100" : "text-yellow-600",
                "purple": type === "bg" ? "bg-purple-100" : "text-purple-600",
                "pink": type === "bg" ? "bg-pink-100" : "text-pink-600"
            };
            return colorMap[color] || (type === "bg" ? "bg-gray-100" : "text-gray-600");
        }

        function getTypeColorClass(type) {
            const typeMap = {
                "checking": "bg-blue-100 text-blue-800",
                "savings": "bg-green-100 text-green-800",
                "credit": "bg-purple-100 text-purple-800",
                "cash": "bg-yellow-100 text-yellow-800",
                "investment": "bg-blue-100 text-blue-800",
                "loan": "bg-red-100 text-red-800",
                "expense": "bg-red-100 text-red-800",
                "income": "bg-green-100 text-green-800",
                "transfer": "bg-gray-100 text-gray-800"
            };
            return typeMap[type] || "bg-gray-100 text-gray-800";
        }

        function formatAccountType(type) {
            const typeMap = {
                "checking": "Checking",
                "savings": "Savings",
                "credit": "Credit Card",
                "cash": "Cash Wallet",
                "investment": "Investment",
                "loan": "Loan"
            };
            return typeMap[type] || type.charAt(0).toUpperCase() + type.slice(1);
        }

        function resetAccountForm() {
            document.getElementById("accountForm").reset();
            document.getElementById("accountActive").checked = true;
        }

        function resetCategoryForm() {
            document.getElementById("categoryForm").reset();
            colorOptions.forEach(opt => opt.classList.remove("border-primary", "border-2"));
            colorOptions[0].classList.add("border-primary", "border-2");
            document.getElementById("selectedColor").value = "red";
        }

        function setTodayDate() {
            const today = new Date().toISOString().split("T")[0];
            document.getElementById("date").value = today;
        }

        function selectDefaultTransactionType() {
            if (transactionTypeBtns[0]) {
                transactionTypeBtns[0].click();
            }
        }

        // Initialize the application
        init();
    </script>
</body>
</html>