<!DOCTYPE html>
<html lang="en">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTrack - Complete Finance Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gray-50 text-gray-800">

<!-- CONTENT ABOVE REMAINS SAME UNTIL SCRIPT -->
<!-- (UI structure unchanged for brevity — only currency-related parts updated below) -->

<script>

/* ===============================
   GLOBAL CURRENCY CONFIGURATION
================================= */

let defaultCurrency = "ILS";

const currencySymbols = {
    USD: "$",
    EUR: "€",
    GBP: "£",
    JPY: "¥",
    CAD: "$",
    ILS: "₪"
};

function getCurrencySymbol(currency = defaultCurrency) {
    return currencySymbols[currency] || "₪";
}

/* ===============================
   DEFAULT DATA (UPDATED TO ILS)
================================= */

const accounts = [
    {
        id: 1,
        name: "Checking Account",
        type: "checking",
        balance: 8245.50,
        currency: "ILS",
        accountNumber: "4582",
        active: true,
        icon: "fa-university",
        color: "blue"
    },
    {
        id: 2,
        name: "Credit Card",
        type: "credit",
        balance: -1245.75,
        currency: "ILS",
        accountNumber: "1234",
        active: true,
        icon: "fa-credit-card",
        color: "green"
    },
    {
        id: 3,
        name: "Cash Wallet",
        type: "cash",
        balance: 450.00,
        currency: "ILS",
        accountNumber: "",
        active: true,
        icon: "fa-wallet",
        color: "purple"
    }
];

/* ===============================
   RENDER ACCOUNTS TABLE (FIXED SYMBOL)
================================= */

function renderAccountsTable() {
    const table = document.getElementById("accountsTableBody");
    table.innerHTML = "";

    accounts.forEach(account => {

        const symbol = getCurrencySymbol(account.currency);
        const balancePrefix = account.balance >= 0 ? `+${symbol}` : `-${symbol}`;
        const balanceDisplay = Math.abs(account.balance).toFixed(2);
        const balanceColor = account.balance >= 0 ? "text-green-600" : "text-red-600";

        const row = document.createElement("tr");

        row.innerHTML = `
            <td class="px-6 py-4">${account.name}</td>
            <td class="px-6 py-4">${account.type}</td>
            <td class="px-6 py-4 ${balanceColor} font-medium">
                ${balancePrefix}${balanceDisplay}
            </td>
            <td class="px-6 py-4">${account.currency}</td>
        `;

        table.appendChild(row);
    });
}

/* ===============================
   UPDATE INPUT SYMBOLS ON LOAD
================================= */

function updateCurrencySymbols() {
    const symbol = getCurrencySymbol();

    const transactionSymbol = document.getElementById("transactionCurrencySymbol");
    const accountSymbol = document.getElementById("accountCurrencySymbol");
    const categorySymbol = document.getElementById("categoryCurrencySymbol");

    if (transactionSymbol) transactionSymbol.textContent = symbol;
    if (accountSymbol) accountSymbol.textContent = symbol;
    if (categorySymbol) categorySymbol.textContent = symbol;
}

/* ===============================
   INIT
================================= */

document.addEventListener("DOMContentLoaded", () => {
    updateCurrencySymbols();
    renderAccountsTable();
});

</script>

</body>
</html>
